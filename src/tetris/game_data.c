#include "game_data.h"

// CONFIGURATIONS
// A block is a 2-dimensional array of configurations on the game board
// To optimize graphics performance, every configuration entry has
// a corresponding blitter configuration. By this means, we can turn
// 4 potential blits (8 with deletions) into a maximum of 2 blits (4
// with deletion)
// Rotation configurations of each block type
struct Position BLOCK_CONFIGS[7][4][4] = {
    // I
    {
        { { 0, 1 }, { 1, 1 }, { 2, 1 }, { 3, 1 } },
        { { 2, 0 }, { 2, 1 }, { 2, 2 }, { 2, 3 } },
        { { 0, 2 }, { 1, 2 }, { 2, 2 }, { 3, 2 } },
        { { 1, 0 }, { 1, 1 }, { 1, 2 }, { 1, 3 } }
    },

    // J
    {
        { { 0, 0 }, { 0, 1 }, { 1, 1 }, { 2, 1 } },
        { { 1, 0 }, { 1, 1 }, { 1, 2 }, { 2, 0 } },
        { { 0, 1 }, { 1, 1 }, { 2, 1 }, { 2, 2 } },
        { { 0, 2 }, { 1, 0 }, { 1, 1 }, { 1, 2 } }
    },

    // L
    {
        { { 2, 0 }, { 0, 1 }, { 1, 1 }, { 2, 1 } },
        { { 1, 0 }, { 1, 1 }, { 1, 2 }, { 2, 2 } },
        { { 0, 1 }, { 1, 1 }, { 2, 1 }, { 0, 2 } },
        { { 0, 0 }, { 1, 0 }, { 1, 1 }, { 1, 2 } }
    },

    // O
    {
        { { 0, 0 }, { 1, 0 }, { 0, 1 }, { 1, 1 } },
        { { 0, 0 }, { 1, 0 }, { 0, 1 }, { 1, 1 } },
        { { 0, 0 }, { 1, 0 }, { 0, 1 }, { 1, 1 } },
        { { 0, 0 }, { 1, 0 }, { 0, 1 }, { 1, 1 } }
    },

    // S
    {
        { { 1, 0 }, { 2, 0 }, { 0, 1 }, { 1, 1 } },
        { { 1, 0 }, { 1, 1 }, { 2, 1 }, { 2, 2 } },
        { { 1, 1 }, { 2, 1 }, { 0, 2 }, { 1, 2 } },
        { { 0, 0 }, { 0, 1 }, { 1, 1 }, { 1, 2 } }
    },

    // T
    {
        { { 1, 0 }, { 0, 1 }, { 1, 1 }, { 2, 1 } },
        { { 1, 0 }, { 1, 1 }, { 1, 2 }, { 2, 1 } },
        { { 0, 1 }, { 1, 1 }, { 2, 1 }, { 1, 2 } },
        { { 0, 1 }, { 1, 0 }, { 1, 1 }, { 1, 2 } }
    },

    // Z
    {
        { { 0, 0 }, { 1, 0 }, { 1, 1 }, { 2, 1 } },
        { { 2, 0 }, { 2, 1 }, { 1, 1 }, { 1, 2 } },
        { { 0, 1 }, { 1, 1 }, { 1, 2 }, { 2, 2 } },
        { { 1, 0 }, { 1, 1 }, { 0, 1 }, { 0, 2 } }
    }
};

struct BlitSpec BLIT_SPECS[2][4] = {
    // I
    {
        {1, { {0, 0, 32, 8} } },
        {1, { {0, 0, 8, 32} } },
        {1, { {0, 0, 32, 8} } },
        {1, { {0, 0, 8, 32} } }
    },
    // J
    {
        {2, { {0, 0, 8, 8}, {0, 8, 24, 8} } },
        {2, { {0, 0, 16, 8}, {0, 8, 8, 16} } },
        {2, { {0, 0, 24, 8}, {16, 8, 8, 8 } } },
        {2, { {8, 0, 8, 24}, {0, 16, 16, 8} } }
    }
};

struct BlockSpec I_SPEC = {
    {
        { { 0, 1 }, { 1, 1 }, { 2, 1 }, { 3, 1 } },
        { { 2, 0 }, { 2, 1 }, { 2, 2 }, { 2, 3 } },
        { { 0, 2 }, { 1, 2 }, { 2, 2 }, { 3, 2 } },
        { { 1, 0 }, { 1, 1 }, { 1, 2 }, { 1, 3 } }
    },
    {
        {1, { {0, 0, 32, 8} } },
        {1, { {0, 0, 8, 32} } },
        {1, { {0, 0, 32, 8} } },
        {1, { {0, 0, 8, 32} } }
    },
};

struct BlockSpec J_SPEC = {
    {
        { { 0, 0 }, { 0, 1 }, { 1, 1 }, { 2, 1 } },
        { { 1, 0 }, { 1, 1 }, { 1, 2 }, { 2, 0 } },
        { { 0, 1 }, { 1, 1 }, { 2, 1 }, { 2, 2 } },
        { { 0, 2 }, { 1, 0 }, { 1, 1 }, { 1, 2 } }
    },
    {
        {2, { {0, 0, 8, 8}, {0, 8, 24, 8} } },
        {2, { {0, 0, 16, 8}, {0, 8, 8, 16} } },
        {2, { {0, 0, 24, 8}, {16, 8, 8, 8 } } },
        {2, { {8, 0, 8, 24}, {0, 16, 16, 8} } }
    }
};

// KICK DATA
