#include "game_data.h"

// CONFIGURATIONS
// A block is a 2-dimensional array of configurations on the game board
// To optimize graphics performance, every configuration entry has
// a corresponding blitter configuration. By this means, we can turn
// 4 potential blits (8 with deletions) into a maximum of 2 blits (4
// with deletion)
// Rotation configurations of each block type
struct Position BLOCK_CONFIGS[7][4][4] = {
    // I
    {
        { { 0, 1 }, { 1, 1 }, { 2, 1 }, { 3, 1 } },
        { { 2, 0 }, { 2, 1 }, { 2, 2 }, { 2, 3 } },
        { { 0, 2 }, { 1, 2 }, { 2, 2 }, { 3, 2 } },
        { { 1, 0 }, { 1, 1 }, { 1, 2 }, { 1, 3 } }
    },

    // J
    {
        { { 0, 0 }, { 0, 1 }, { 1, 1 }, { 2, 1 } },
        { { 1, 0 }, { 1, 1 }, { 1, 2 }, { 2, 0 } },
        { { 0, 1 }, { 1, 1 }, { 2, 1 }, { 2, 2 } },
        { { 0, 2 }, { 1, 0 }, { 1, 1 }, { 1, 2 } }
    },

    // L
    {
        { { 2, 0 }, { 0, 1 }, { 1, 1 }, { 2, 1 } },
        { { 1, 0 }, { 1, 1 }, { 1, 2 }, { 2, 2 } },
        { { 0, 1 }, { 1, 1 }, { 2, 1 }, { 0, 2 } },
        { { 0, 0 }, { 1, 0 }, { 1, 1 }, { 1, 2 } }
    },

    // O
    {
        { { 0, 0 }, { 1, 0 }, { 0, 1 }, { 1, 1 } },
        { { 0, 0 }, { 1, 0 }, { 0, 1 }, { 1, 1 } },
        { { 0, 0 }, { 1, 0 }, { 0, 1 }, { 1, 1 } },
        { { 0, 0 }, { 1, 0 }, { 0, 1 }, { 1, 1 } }
    },

    // S
    {
        { { 1, 0 }, { 2, 0 }, { 0, 1 }, { 1, 1 } },
        { { 1, 0 }, { 1, 1 }, { 2, 1 }, { 2, 2 } },
        { { 1, 1 }, { 2, 1 }, { 0, 2 }, { 1, 2 } },
        { { 0, 0 }, { 0, 1 }, { 1, 1 }, { 1, 2 } }
    },

    // T
    {
        { { 1, 0 }, { 0, 1 }, { 1, 1 }, { 2, 1 } },
        { { 1, 0 }, { 1, 1 }, { 1, 2 }, { 2, 1 } },
        { { 0, 1 }, { 1, 1 }, { 2, 1 }, { 1, 2 } },
        { { 0, 1 }, { 1, 0 }, { 1, 1 }, { 1, 2 } }
    },

    // Z
    {
        { { 0, 0 }, { 1, 0 }, { 1, 1 }, { 2, 1 } },
        { { 2, 0 }, { 2, 1 }, { 1, 1 }, { 1, 2 } },
        { { 0, 1 }, { 1, 1 }, { 1, 2 }, { 2, 2 } },
        { { 1, 0 }, { 1, 1 }, { 0, 1 }, { 0, 2 } }
    }
};

struct BlockSpec I_SPEC = {
    {
        { { 0, 1 }, { 1, 1 }, { 2, 1 }, { 3, 1 } },
        { { 2, 0 }, { 2, 1 }, { 2, 2 }, { 2, 3 } },
        { { 0, 2 }, { 1, 2 }, { 2, 2 }, { 3, 2 } },
        { { 1, 0 }, { 1, 1 }, { 1, 2 }, { 1, 3 } }
    },
    {
        {1, { {RS_1x4, 1, 0} } },
        {1, { {RS_4x1, 0, 2} } },
        {1, { {RS_1x4, 2, 0} } },
        {1, { {RS_4x1, 0, 1} } }
    },
};

struct BlockSpec J_SPEC = {
    {
        { { 0, 0 }, { 0, 1 }, { 1, 1 }, { 2, 1 } },
        { { 1, 0 }, { 1, 1 }, { 1, 2 }, { 2, 0 } },
        { { 0, 1 }, { 1, 1 }, { 2, 1 }, { 2, 2 } },
        { { 0, 2 }, { 1, 0 }, { 1, 1 }, { 1, 2 } }
    },
    {
        {2, { {RS_1x1, 0, 0}, {RS_1x3, 1, 0} } },
        {2, { {RS_1x2, 0, 1}, {RS_2x1, 1, 1} } },
        {2, { {RS_1x2, 1, 0}, {RS_2x1, 1, 2} } },
        {2, { {RS_2x1, 0, 1}, {RS_1x2, 2, 0} } }
    }
};

struct BlockSpec L_SPEC = {
    {
        { { 2, 0 }, { 0, 1 }, { 1, 1 }, { 2, 1 } },
        { { 1, 0 }, { 1, 1 }, { 1, 2 }, { 2, 2 } },
        { { 0, 1 }, { 1, 1 }, { 2, 1 }, { 0, 2 } },
        { { 0, 0 }, { 1, 0 }, { 1, 1 }, { 1, 2 } }
    },
    {
        {2, { {RS_1x1, 0, 0}, {RS_1x3, 1, 0} } },
        {2, { {RS_1x2, 0, 1}, {RS_2x1, 1, 1} } },
        {2, { {RS_1x2, 1, 0}, {RS_2x1, 1, 2} } },
        {2, { {RS_2x1, 0, 1}, {RS_1x2, 2, 0} } }
    }
};

// KICK DATA
